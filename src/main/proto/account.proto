syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.delimce.grpc.account";
option java_outer_classname = "AccountProto";

package account;

// Registration service definition
service AccountService {
  rpc register(RegistrationRequest) returns (RegistrationResponse) {}
  rpc login(LoginRequest) returns (UserAccount) {}
  rpc deleteAccount(DeleteAccountRequest) returns (DeleteAccountResponse) {}
}

// Request message containing user registration data
message RegistrationRequest {
  string name     = 1;
  string lastName = 2;
  string email    = 3;
}

// Response message containing the registration result
message RegistrationResponse {
  bool   success = 1;
  string message = 2;
}

// Request message containing user login data
message LoginRequest {
  string email    = 1;
  string password = 2;
}
// User account information
message UserAccount {
  string uid      = 1;
  string name     = 2;
  string lastName = 3;
  string email    = 4;
}

// Request message containing user account deletion data
message DeleteAccountRequest {
  string uid = 1;
  string password = 2;
}

// Response message containing the account deletion result
message DeleteAccountResponse {
  bool   success = 1;
  string message = 2;
}
